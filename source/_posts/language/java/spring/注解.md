---
    title: spring注解
    categories: java-spring
    tags:
    creator: cjq
    create_time: 2021/02/10


---

## 自动化配置的问题

##### 需要排除的配置

[[Spring Boot 排除自动配置的 4 种方法，关键时刻很有用！](https://www.cnblogs.com/javastack/p/12016212.html)]

1. @SpringBootApplication
2. @EnableAutoConfiguration
3. @SpringCloudApplication
4. spring.autoconfigure.exclude

[Spring Boot自动化配置的利弊及解决之道](https://blog.csdn.net/dyc87112/article/details/73739535)

###### 排除的类总结

1. [@SpringBootApplication](https://github.com/SpringBootApplication)(exclude = DruidDataSourceAutoConfigure.class)
2. 



## 注解用法

[@RequestBody和@RequestParam注解使用](https://blog.csdn.net/sqlgao22/article/details/100095433)

### @Async

1. 可以指定线程池

#### 不生效原因：

1. 需要保证调用函数与注解修饰的函数在不同类中，因为不会走代理类。[详解](https://blog.csdn.net/weixin_37760377/article/details/103627676) [详解2](https://blog.csdn.net/YoungLee16/article/details/88398045)



### @Value

#### [注入static变量四种方法](https://blog.csdn.net/ZYC88888/article/details/87863038)

```java
import org.springframework.beans.factory.annotation.Value;
import org.springframework.stereotype.Component;
import lombok.Getter;
 
@Component
public class GlobalValue {
 
    @Getter
    public static String DATABASE;
 
    @Value("${mysql.db:test}")
    public void setDatabase(String db) {
        DATABASE = db;
    }
  	// 这里要特别注意:
  	// 1. @value需要注释set函数上
  	// 2. 自动生成的getter和setter方法，会带有static的限定符，需要去掉，才可以。
}
```

@Value
static
https://blog.csdn.net/ZYC88888/article/details/87863038

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'pubApiPush': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'group_url' in value "${group_url}"

group_url: [[查看结果|http://wolf.waimai.dev.sankuai.com/group/hubble/page/dolphinManage]]