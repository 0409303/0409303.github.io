---

    title: 学习内容
    categories: spark-structured-streaming
    tags:
    creator: cjq
    create_time: 2021/09/02




---





https://spark.apache.org/docs/latest/structured-streaming-programming-guide.html#operations-on-streaming-dataframesdatasets

https://spark.apache.org/docs/2.4.3/structured-streaming-programming-guide.html

[The Internals of Spark Structured Streaming (Apache Spark 2.4.4)](https://jaceklaskowski.gitbooks.io/spark-structured-streaming/content/)



## 已读

[Spark——Structured Streaming](https://blog.csdn.net/fseast/article/details/101304418)

1. 整体介绍
2. watermark工作原理
   1. watermark工作时，需要设置withwatermark与groupby使用相同time field



## 未读

一、简介

[专访朱诗雄：Apache Spark 中的全新流式引擎 Structured Streaming](https://www.infoq.cn/article/2018/02/spark-structured-streaming)

[看了这篇博客，你还敢说不会Structured Streaming？](https://icode9.com/content-4-678404.html)

[Note_Spark_Day13：Structured Streaming](https://blog.51cto.com/u_15277063/2929622)

[Spark Structured Streaming笔记](https://blog.csdn.net/qq_33588730/article/details/105227256)

二、架构

三、watermark

四、state

五、streaming+kafka

[重启任务如何保证紧接上一次消费](https://stackoverflow.com/questions/63751812/how-to-ensure-no-data-loss-for-kafka-data-ingestion-through-spark-structured-str)

官网：[Spark Streaming + Kafka Integration Guide (Kafka broker version 0.10.0 or higher)](https://spark.apache.org/docs/latest/streaming-kafka-0-10-integration.html)

[Spark streaming消费Kafka的正确姿势](https://juejin.cn/post/6844903807072075789)

[Tutorial: Use Apache Spark Structured Streaming with Apache Kafka on HDInsight](https://docs.microsoft.com/en-us/azure/hdinsight/hdinsight-apache-kafka-spark-structured-streaming)

[Processing Data in Apache Kafka with Structured Streaming in Apache Spark 2.2](https://databricks.com/blog/2017/04/26/processing-data-in-apache-kafka-with-structured-streaming-in-apache-spark-2-2.html)

[How to write spark streaming DF to Kafka topic](https://stackoverflow.com/questions/31590592/how-to-write-spark-streaming-df-to-kafka-topic)

[Apache Kafka transactional writer with foreach sink, is it possible?](https://www.waitingforcode.com/apache-spark-structured-streaming/apache-kafka-transactional-writer-foreach-sink-is-posible/read)

[spark向kafka写入数据](https://blog.csdn.net/u013013024/article/details/77877570)

[Spark : Best way to Broadcast KafkaProducer to Spark streaming](https://stackoverflow.com/questions/39642445/spark-best-way-to-broadcast-kafkaproducer-to-spark-streaming)

[Spark Dataframe to Kafka](https://stackoverflow.com/questions/50551305/spark-dataframe-to-kafka)

[How to write a Dataset to Kafka topic?](https://stackoverflow.com/questions/49694107/how-to-write-a-dataset-to-kafka-topic)

六、文件

[Spark2.0入门：Structured Streaming操作文件流](http://dblab.xmu.edu.cn/blog/1173-2/)

[Spark之Spark Streaming处理文件流数据](https://blog.csdn.net/zhangdy12307/article/details/90379543)

[Spark2.0入门：Structured Streaming操作文件流](http://dblab.xmu.edu.cn/blog/1173-2/)

[spark流式读取hdfs中数据](https://blog.csdn.net/xiaoshunzi111/article/details/53036717)

七、config

[Configuration Properties](https://jaceklaskowski.gitbooks.io/spark-structured-streaming/content/spark-sql-streaming-properties.html)

[sqlconf.scala](https://github.com/apache/spark/blob/master/sql/catalyst/src/main/scala/org/apache/spark/sql/internal/SQLConf.scala#L183)

八、stage

[InMemoryTableScanExec Leaf Physical Operator](https://jaceklaskowski.gitbooks.io/mastering-spark-sql/content/spark-sql-SparkPlan-InMemoryTableScanExec.html)

九、源码

[Spark Structrued Streaming源码分析--(三)Aggreation聚合状态存储与更新](https://blog.csdn.net/LS_ice/article/details/82153384)

九、未分类

[MicroBatchExecution — Stream Execution Engine of Micro-Batch Stream Processing](https://jaceklaskowski.gitbooks.io/spark-structured-streaming/content/spark-sql-streaming-MicroBatchExecution.html)





spark运行没有启动job

[Spark Structured Streaming app has no jobs and no stages](https://stackoverflow.com/questions/49658598/spark-structured-streaming-app-has-no-jobs-and-no-stages)

问题：

1. spark broadcast kafkaproducer
2. dataframe write to kafka each
3. structured streaming 流式读取文件 多层
4. structured streaming finished without job
